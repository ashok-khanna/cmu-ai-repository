     Number 31                                            October 92

                      The Huntington Technical Brief 
                          By David Brubaker Ph.D.

                       FUZZY ENVIRONMENTAL CONTROL
                       ---------------------------

     INTRODUCTION 
     
     In  January 1992, Liebert Corporation of Columbus, Ohio,
     specialists in environment control units for computer 
     installations, introduced the LogiCool, a precision temperature
     and humidity controller with a fuzzy control unit at its heart.
     This Technical Brief briefly discusses both the design of
     LogiCool's fuzzy controller, and the process through which
     Liebert elected to use a fuzzy approach.
     
     DESIGN GOALS
     
     Control of the environment for large computing systems is often
     a far greater challenge than for rooms inhabited by people.  Not
     only do the systems themselves generate heat, but they are often
     specified by their manufacturers to be maintained in as little as
     a plus-or-minus 1 degree (Fahrenheit) range. Humidity is also a
     challenge, causing, for example, corrosion and jamming of
     associated mechanical systems at high humidity levels and the
     enhanced possibility of static discharge with low levels.
     Humidity control is often specified to be 50% relative humidity,
     with a maximum swing of plus-or-minus 3% per hour.
     
     In addition, the design of a precision environmental control
     system also faces nonlinearities, caused by such system behavior
     as air flow delay and dead times, uneven airflow distribution
     patterns, and duct work layouts. Uncertainties in system
     parameters are often present, for example, room size and shape,
     location of heat-producing equipment, thermal mass of equipment
     and walls, and amount and timing of external air introduction.
     
     Recognizing these challenges, Liebert undertook the design of a 
     control system requiring (in general terms):
     
     *   Precision temperature and humidity control;
     
     *   Minimization of cycling times (i.e., the opening and closing of
     the damper and turning on and off of the compressor), thereby 
     increasing reliability and component life, and also resulting in 
     increased energy efficiency;
     
     *   Straightforward and therefore inexpensive control electronics.
     
     In short, Liebert wanted to precisely control with simple
     hardware a nonlinear system with significant uncertainties.
     Several traditional linear approaches were considered but proved
     inadequate. A fuzzy logic approach was investigated and
     ultimately implemented.  Design specifics - The LogiCool control
     system has six fuzzy inputs, three fuzzy outputs, and 144
     principles (rules). It runs on a Motorola 6803 microprocessor,
     and is programmed in C.
     
     LogiCool's fuzzy input variables are: e_temperature, the
     temperature relative to a setpoint; delta_T/delta_t, the rate of
     temperature change; e_humidity, the humidity relative to a
     setpoint; delta_H/delta_t, the rate of humidity change; and two
     proprietary variables associated with  the action of the
     controllers.
     
     Fuzzy outputs control: 1) amount of cooling, 2) amount of 
     dehumidification, and 3) heat. Outputs can also be treated as
     fedback input variables, and time delays are treated as fuzzy
     outputs as well.  Each fuzzy variable is assigned seven
     membership functions as values, with the traditional
     Large_Negative, Medium_Negative, Small_Negative, Near_Zero,
     Small_ Positive, Medium_Positive, and Large_Positive as labels.
     Ranges for the values of each variable are proprietary.
     
     An example of a temperature control principle, using the as ...then 
     ... (rather than the if ... then ...) syntax, is:
     
          as temperature relative to set point is small_positive
          and temperature rate of change is medium_positive
          then amount of cooling is small_positive;
     
     The Liebert design also incorporates time delays into their 
     principles. The following demonstrates both this as well as the
     use of a fuzzy output as a feedback variable.
     
          as temperature relative to setpoint is small_negative
          and amount of cooling is small_positive
          then wait delay to cooling change is medium_positive;
     
     A fuzzy OR operator (maximizer) is used as the defuzzification 
     technique, avoiding the complicated calculations associated with
     a centroid approach. Liebert has found that with the large
     number of principles, a more elaborate approach is unnecessary.
     Inputs are sampled, the principle-base accessed, and outputs are
     updated once a second. The "long" inter-sample delay allows the
     6803, a simple eight-bit microprocessor, to implement this
     rather large fuzzy system.
     
     ECONOMIZER 
     
     A key feature of the system is LogiCool's Economizer, which also
     runs under fuzzy control. When appropriate (for example in the
     cool of the morning), the outdoor ambient temperature is used to
     assist in internal temperature control. While on/off control of
     the Economizer could have been used, fuzzy logic greatly reduced
     the number of system cycles, thereby significantly reducing wear
     on the damper.
     
     DESIGN PROCESS
     
     The sequence that resulted in the decision to use fuzzy logic
     started roughly eighteen months ago. From the engineering side,
     the decision was driven by being able to meet difficult 
     requirements. Two Liebert engineers, Terry Bush and Dennis Weber,
     had already read, become interested in, and familiarized
     themselves with fuzzy technology, and were therefore able to
     recognize that a fuzzy approach could satisfy the stringent
     requirements.  Simultaneously, Liebert marketing was both aware
     of fuzzy logic controlled air conditioning systems available
     outside the United States, and was also getting feedback from
     customers indicating that an improved method of handling complex
     internal environmental control was needed. Putting the two
     together, engineering was asked to investigate a fuzzy
     controller.
     
     Liebert engineers designed and implemented the system in-house,
     with the entire fuzzy logic controller portion completed in two
     to three months. A commercially available fuzzy development tool
     was not used, primarily because in the beginning there was
     insufficient confidence in the approach to justify the expense
     of such a tool. Liebert is still satisfied with the decision to
     "roll its own" system, as it resulted in a design that
     incorporates a number of features not easily provided in the
     tools available at the time, for example the delaying of output
     actions by fuzzily defined wait delays.
     
     Liebert engineers did ultimately write a PC-based simulator to
     test the fuzzy design under simulation prior to committing it to
     hardware.  Conclusion - Although quantitative metrics are not
     available, Liebert reports that LogiCool has fully met its
     design goals. Damper and compressor cycling times have been
     greatly reduced, especially during Economizer operation. This
     reduction in cycling times results in increased reliability and
     increased expected component life.  LogiCool also meets
     Liebert's operational requirements associated with precisely
     controlling temperature and humidity in rooms with uncertain and
     nonlinear characteristics. Moreover, installation includes no
     tuning procedure - the same set of principles satisfies all 
     installations.
     
     Liebert is completely satisfied with the response to LogiCool.
     Sales since its introduction last January are better than
     expected, and production run sizes are being increased to
     respond to the demand. In addition, in recognition of the
     innovation in overall design, the LogiCool has been recognized
     by HVAC News as a 1992 Design Winner.  For more information on
     the LogiCool, call Liebert Corporation, at 1-800-877-9222.

     ----------------------------------------------------------------
         
        The Huntington Technical Brief is published, monthly and free
     of charge, as part of the marketing effort of Dr. David Brubaker
     of The Huntington Group.  A full collection of past issues
     (starting with number 5 -- issues 1 through 4 are unrelated to
     fuzzy logic and are unavailable) may be obtained for $10.00. The
     42-page report "Introduction to Fuzzy Logic Systems" is
     available for $35.00.
     
        For the past sixteen years Dr. Brubaker has provided
     technical consulting services in the design of complex systems,
     real-time, embedded processor systems, and for the past five
     years, fuzzy logic systems. If you need out-of-house expertise
     in any of these, please call 415-325-7554.
     
     ----------------------------------------------------------------
     
                  Copyright 1992 by The Huntington Group 
         883 Santa Cruz Avenue, Suite 31 Menlo Park, CA 94025-4608

                      This information is provided by
                             Aptronix FuzzyNet
                       408-428-1883 Data USR V.32bis

