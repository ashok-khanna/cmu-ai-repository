<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!-- Common Lisp HyperSpec (TM), version 3.0 generated by kmp on Thu, 2-May-1996 10:21am EDT -->
<HTML>

<!-- Mirrored from www.cs.cmu.edu/afs/cs/project/ai-repository/ai/util/html/hyperspec/HyperSpec/Body/syscla_function.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Oct 2021 10:18:31 GMT -->
<HEAD>
<TITLE>CLHS: System Class FUNCTION</TITLE>
<META HTTP-EQUIV="Author" CONTENT="Kent M. Pitman">
<META HTTP-EQUIV="Organization" CONTENT="The Harlequin Group Limited">
<LINK REL=TOP HREF="../FrontMatter/index-2.html">
<LINK REL=COPYRIGHT HREF="../FrontMatter/About-HyperSpec.html#Legal">
<LINK REL=DISCLAIMER HREF="../FrontMatter/About-HyperSpec.html#Disclaimer">
<LINK REL=PREV HREF="typ_boolean.html">
<LINK REL=UP HREF="sec_the_types_s_dictionary.html">
<LINK REL=NEXT HREF="typ_compiled-function.html">
</HEAD>
<BODY BGCOLOR="#c0c0c0">
<H1><A REV=MADE HREF="http://www.harlequin.com/"><IMG ALT="[HARLEQUIN]" SRC="../Graphics/Harlequin-Small.gif" ALIGN=Bottom></A><A REL=TOP HREF="../FrontMatter/index-2.html"><IMG ALT="[Common Lisp HyperSpec (TM)]" SRC="../Graphics/HyperSpec-Small.gif" ALIGN=Bottom></A> <A REL=PREV HREF="typ_boolean.html"><IMG ALT="[Previous]" SRC="../Graphics/Prev.gif" ALIGN=Bottom></A><A REL=UP HREF="sec_the_types_s_dictionary.html"><IMG ALT="[Up]" SRC="../Graphics/Up.gif" ALIGN=Bottom></A><A REL=NEXT HREF="typ_compiled-function.html"><IMG ALT="[Next]" SRC="../Graphics/Next.gif" ALIGN=Bottom></A></H1>

<HR>

<A NAME="function"><I>System Class</I> <B>FUNCTION</B></A> <P>
 <P>
<P><B>Class Precedence List:</B><P>
 <A REL=DEFINITION HREF="#function"><B>function</B></A>, <A REL=DEFINITION HREF="syscla_t.html#t"><B>t</B></A> <P>
<P><B>Description:</B><P>
 <P>
A <A REL=DEFINITION HREF="glo_f.html#function"><I>function</I></A> is an <A REL=DEFINITION HREF="glo_o.html#object"><I>object</I></A> that represents code to be executed when an appropriate number of arguments is supplied. A <A REL=DEFINITION HREF="glo_f.html#function"><I>function</I></A> is produced by the <A REL=DEFINITION HREF="speope_function.html#function"><B>function</B></A> <A REL=DEFINITION HREF="glo_s.html#special_form"><I>special form</I></A>, the <A REL=DEFINITION HREF="glo_f.html#function"><I>function</I></A> <A REL=DEFINITION HREF="fun_coerce.html#coerce"><B>coerce</B></A>,   or the <A REL=DEFINITION HREF="glo_f.html#function"><I>function</I></A> <A REL=DEFINITION HREF="fun_compile.html#compile"><B>compile</B></A>. A <A REL=DEFINITION HREF="glo_f.html#function"><I>function</I></A> can be directly invoked by using it as the first argument to <A REL=DEFINITION HREF="fun_funcall.html#funcall"><B>funcall</B></A>, <A REL=DEFINITION HREF="fun_apply.html#apply"><B>apply</B></A>, or <A REL=DEFINITION HREF="speope_multiple-value-call.html#multiple-value-call"><B>multiple-value-call</B></A>. <P>
<P><B>Compound Type Specifier Kind:</B><P>
 <P>
Specializing. <P>
<P><B>Compound Type Specifier Syntax:</B><P>
 <P>

<B>function</B> <I>[arg-typespec [value-typespec]]</I><P>
 <P>
<PRE>
arg-typespec::= (typespec*  
                 [&amp;optional typespec*]  
                 [&amp;rest typespec]  
                 [&amp;key (keyword typespec)*]) 
</PRE>
 <P>
<P><B>Compound Type Specifier Arguments:</B><P>
 <P>
<I>typespec</I>---a <A REL=DEFINITION HREF="glo_t.html#type_specifier"><I>type specifier</I></A>. <P>
<I>value-typespec</I>---a <A REL=DEFINITION HREF="glo_t.html#type_specifier"><I>type specifier</I></A>. <P>
<P><B>Compound Type Specifier Description:</B><P>
 <P>
 <P>
  <P>
The list form of the <A REL=DEFINITION HREF="#function"><B>function</B></A> <I>type-specifier</I> can be used only for declaration and not for discrimination. Every element of this <A REL=DEFINITION HREF="glo_t.html#type"><I>type</I></A> is a <A REL=DEFINITION HREF="glo_f.html#function"><I>function</I></A> that accepts arguments of the types specified by the <I>argj-types</I> and returns values that are members of the <A REL=DEFINITION HREF="glo_t.html#type"><I>types</I></A> specified by <I>value-type</I>. The &amp;<TT>optional</TT>, &amp;<TT>rest</TT>, &amp;<TT>key</TT>,  and &amp;<TT>allow-other-keys</TT>  markers can appear in the list of argument types.  The <A REL=DEFINITION HREF="glo_t.html#type_specifier"><I>type specifier</I></A> provided with &amp;<TT>rest</TT> is the <A REL=DEFINITION HREF="glo_t.html#type"><I>type</I></A> of each actual argument, not the <A REL=DEFINITION HREF="glo_t.html#type"><I>type</I></A> of the corresponding variable.  <P>
 The &amp;<TT>key</TT> parameters should be supplied as lists of the form <TT>(</TT><I>keyword</I><TT> </TT><I>type</I><TT>)</TT>. The <I>keyword</I> must be a valid keyword-name symbol as must be supplied in the actual arguments of a call.  This is usually a <A REL=DEFINITION HREF="glo_s.html#symbol"><I>symbol</I></A> in the <TT>KEYWORD</TT> package but can be any <A REL=DEFINITION HREF="glo_s.html#symbol"><I>symbol</I></A>.  When &amp;<TT>key</TT> is given in a <B>function</B> <A REL=DEFINITION HREF="glo_t.html#type_specifier"><I>type specifier</I></A> <A REL=DEFINITION HREF="glo_l.html#lambda_list"><I>lambda list</I></A>, the <A REL=DEFINITION HREF="glo_k.html#keyword_parameter"><I>keyword parameters</I></A> given are exhaustive unless &amp;<TT>allow-other-keys</TT> is also present. &amp;<TT>allow-other-keys</TT> is an indication that other keyword arguments might actually be supplied and, if supplied, can be used. For example, the <A REL=DEFINITION HREF="glo_t.html#type"><I>type</I></A> of the <A REL=DEFINITION HREF="glo_f.html#function"><I>function</I></A> <A REL=DEFINITION HREF="fun_make-list.html#make-list"><B>make-list</B></A> could be declared as follows: <P>
<PRE>
 (function ((integer 0) &amp;key (:initial-element t)) list)
</PRE>
</TT>  <P>
The <I>value-type</I> can be a <B>values</B> <A REL=DEFINITION HREF="glo_t.html#type_specifier"><I>type specifier</I></A> in order to indicate the <A REL=DEFINITION HREF="glo_t.html#type"><I>types</I></A> of <A REL=DEFINITION HREF="glo_m.html#multiple_values"><I>multiple values</I></A>. <P>
 <P>
Consider a declaration of the following form: <P>
<PRE>
 (ftype (function (arg0-type arg1-type ...) val-type) f))
</PRE>
</TT> <P>
Any <A REL=DEFINITION HREF="glo_f.html#form"><I>form</I></A> <TT>(f arg0 arg1 ...)</TT> within the scope of that declaration is equivalent to the following: <P>
<PRE>
 (the val-type (f (the arg0-type arg0) (the arg1-type arg1) ...))
</PRE>
</TT> <P>
That is, the consequences are undefined if any of the arguments are not of the specified <A REL=DEFINITION HREF="glo_t.html#type"><I>types</I></A> or the result is not of the specified <A REL=DEFINITION HREF="glo_t.html#type"><I>type</I></A>. In particular, if any argument is not of the correct <A REL=DEFINITION HREF="glo_t.html#type"><I>type</I></A>, the result is not guaranteed to be of the specified <A REL=DEFINITION HREF="glo_t.html#type"><I>type</I></A>. <P>
Thus, an <A REL=DEFINITION HREF="dec_ftype.html#ftype"><B>ftype</B></A> declaration for a <A REL=DEFINITION HREF="glo_f.html#function"><I>function</I></A> describes <A REL=DEFINITION HREF="glo_c.html#call"><I>calls</I></A> to the <A REL=DEFINITION HREF="glo_f.html#function"><I>function</I></A>, not the actual definition of the <A REL=DEFINITION HREF="glo_f.html#function"><I>function</I></A>. <P>
Consider a declaration of the following form: <P>
<PRE>
 (type (function (arg0-type arg1-type ...) val-type) fn-valued-variable)
</PRE>
</TT> <P>
This declaration has the interpretation that, within the scope of the declaration, the consequences are unspecified if the value of <TT>fn-valued-variable</TT> is called with arguments not of the specified <A REL=DEFINITION HREF="glo_t.html#type"><I>types</I></A>; the value resulting from a valid call will be of type <TT>val-type</TT>. <P>
As with variable type declarations, nested declarations imply intersections of <A REL=DEFINITION HREF="glo_t.html#type"><I>types</I></A>, as follows: <P><DL><DT>*  Consider the following two declarations of <A REL=DEFINITION HREF="dec_ftype.html#ftype"><B>ftype</B></A>: <P><DD>
<PRE>
 (ftype (function (arg0-type1 arg1-type1 ...) val-type1) f))
</PRE>
</TT> and <P>
<PRE>
 (ftype (function (arg0-type2 arg1-type2 ...) val-type2) f))
</PRE>
</TT> <P>
If both these declarations are in effect, then within the shared scope of the declarations, calls to <TT>f</TT> can be treated as if <TT>f</TT> were declared as follows: <P>
<PRE>
 (ftype (function ((and arg0-type1 arg0-type2) (and arg1-type1 arg1-type2 ...) ...)
                  (and val-type1 val-type2)) 
        f))
</PRE>
</TT> <P>
It is permitted to ignore one or all of the <A REL=DEFINITION HREF="dec_ftype.html#ftype"><B>ftype</B></A> declarations in force. <P>
<DT>*  If two (or more) type declarations are in effect for a variable, and they are both <TT>function</TT> declarations, the declarations combine similarly. <P><DD></DL><P>
 <P>
 <P>
<P><HR>The following <A REL=META HREF="../FrontMatter/X3J13-Issues.html">X3J13 cleanup issues</A>, <I>not part of the specification</I>, apply to this section:<P><UL><LI> <A REL=CHILD HREF="../Issues/iss176.html">FUNCTION-TYPE-ARGUMENT-TYPE-SEMANTICS:RESTRICTIVE</A><LI> <A REL=CHILD HREF="../Issues/iss208.html">KEYWORD-ARGUMENT-NAME-PACKAGE:ANY</A><LI> <A REL=CHILD HREF="../Issues/iss178.html">FUNCTION-TYPE-REST-LIST-ELEMENT:USE-ACTUAL-ARGUMENT-TYPE</A><LI> <A REL=CHILD HREF="../Issues/iss177.html">FUNCTION-TYPE-KEY-NAME:SPECIFY-KEYWORD</A><LI> <A REL=CHILD HREF="../Issues/iss343.html">SYNTACTIC-ENVIRONMENT-ACCESS:RETRACTED-MAR91</A><LI> <A REL=CHILD HREF="../Issues/iss179.html">FUNCTION-TYPE:X3J13-MARCH-88</A><P></UL>
<HR>

<A REL=NAVIGATOR HREF="../FrontMatter/Starting-Points.html"><IMG ALT="[Starting Points]" SRC="../Graphics/Starting-Points.gif" ALIGN=Bottom></A><A REL=TOC HREF="../FrontMatter/Chapter-Index.html"><IMG ALT="[Contents]" SRC="../Graphics/Contents.gif" ALIGN=Bottom></A><A REL=INDEX HREF="../FrontMatter/Master-Index.html"><IMG ALT="[Index]" SRC="../Graphics/Index.gif" ALIGN=Bottom></A><A REL=INDEX HREF="../FrontMatter/Symbol-Index.html"><IMG ALT="[Symbols]" SRC="../Graphics/Symbols.gif" ALIGN=Bottom></A><A REL=GLOSSARY HREF="sec_26-1.html"><IMG ALT="[Glossary]" SRC="../Graphics/Glossary.gif" ALIGN=Bottom></A><A HREF="../Issues/Issues-Categorized.html"><IMG ALT="[Issues]" SRC="../Graphics/Issues.gif" ALIGN=Bottom></A><BR>

<A REL=COPYRIGHT HREF="../FrontMatter/About-HyperSpec.html#Legal"><I>Copyright 1996, The Harlequin Group Limited.  All Rights Reserved.</I></A><P>
</BODY>

<!-- Mirrored from www.cs.cmu.edu/afs/cs/project/ai-repository/ai/util/html/hyperspec/HyperSpec/Body/syscla_function.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Oct 2021 10:18:31 GMT -->
</HTML>
