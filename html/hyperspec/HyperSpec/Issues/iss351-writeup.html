<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!-- Common Lisp HyperSpec (TM), version 3.0 generated by kmp on Thu, 2-May-1996 10:21am EDT -->
<HTML>

<!-- Mirrored from www.cs.cmu.edu/afs/cs/project/ai-repository/ai/html/hyperspec/HyperSpec/Issues/iss351-writeup.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 21 Oct 2021 15:08:28 GMT -->
<HEAD>
<TITLE>CLHS: Issue TYPE-OF-AND-PREDEFINED-CLASSES Writeup</TITLE>
<META HTTP-EQUIV="Author" CONTENT="Kent M. Pitman">
<META HTTP-EQUIV="Organization" CONTENT="The Harlequin Group Limited">
<LINK REL=TOP HREF="../FrontMatter/index-2.html">
<LINK REL=COPYRIGHT HREF="../FrontMatter/About-HyperSpec.html#Legal">
<LINK REL=DISCLAIMER HREF="../FrontMatter/About-HyperSpec.html#Disclaimer">
<LINK REL=PREV HREF="iss350-writeup.html">
<LINK REL=UP HREF="iss351-menu.html">
<LINK REL=NEXT HREF="iss353-writeup.html">
</HEAD>
<BODY BGCOLOR="#c0c0c0">
<H1><A REV=MADE HREF="http://www.harlequin.com/"><IMG ALT="[HARLEQUIN]" SRC="../Graphics/Harlequin-Small.gif" ALIGN=Bottom></A><A REL=TOP HREF="../FrontMatter/index-2.html"><IMG ALT="[Common Lisp HyperSpec (TM)]" SRC="../Graphics/HyperSpec-Small.gif" ALIGN=Bottom></A> <A REL=PREV HREF="iss350-writeup.html"><IMG ALT="[Previous]" SRC="../Graphics/Prev.gif" ALIGN=Bottom></A><A REL=UP HREF="iss351-menu.html"><IMG ALT="[Up]" SRC="../Graphics/Up.gif" ALIGN=Bottom></A><A REL=NEXT HREF="iss353-writeup.html"><IMG ALT="[Next]" SRC="../Graphics/Next.gif" ALIGN=Bottom></A></H1>

<HR>



<H2>Issue TYPE-OF-AND-PREDEFINED-CLASSES Writeup</H2>

<PRE><B>Issue:</B>          <A HREF="iss351-menu.html">TYPE-OF-AND-PREDEFINED-CLASSES</A><P>
<B>Forum:</B>          Cleanup<P>
<B>References:</B>     Draft 8/29/89, sections 2.2 and 2.3<P>
                Draft 8/29/89, <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A><P>
                Issue <A HREF="iss353.html">TYPE-OF-UNDERCONSTRAINED</A><P>
                Issue <A HREF="iss090.html">DATA-TYPES-HIERARCHY-UNDERSPECIFIED</A><P>
                Issue <A HREF="iss175-menu.html">FUNCTION-TYPE</A><P>
                Issue <A HREF="iss163.html">FLOATING-POINT-CONDITION-NAMES</A><P>
                Issue <A REL=DEFINITION HREF="../Body/contyp_reader-error.html#reader-error"><B>READER-ERROR</B></A><P>
                Condition System, Version 18<P>
<B>Category:</B>       Change<P>
<B>Edit History:</B>   Version 1, 1/2/90 by Kim A. Barrett<P>
                Version 2, 2/16/90 by Kim A. Barrett (from Moon's comments)<P>
<P>
<B>Problem Description:<P>
</B><P>
 In the 8/29/89 Draft there are three different lists of built-in type<P>
 specifiers, all of which are slightly different.  Since some of the<P>
 differences seem to be simply oversights, it would probably be helpful if they<P>
 could be merged together. <P>
<P>
 The locations of these lists in the Draft are (1) Section 2.2, in the<P>
 description of the type disjointness requirements in the subsection entitled<P>
 &quot;Type Relationships&quot;, (2) Section 2.3, in Figure 2-13 &quot;Classes that correspond<P>
 to pre-defined type specifiers&quot;, and (3) in the description of the function<P>
 <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A>. <P>
<P>
 The following table indicates which type names do not appear in all three<P>
 places.  The groupings were made to facilitate the discussion below. <P>
<P>
                        (1)            (2)             (3)<P>
  Group 1<P>
  <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A>             x                               x<P>
  <A REL=DEFINITION HREF="../Body/any_list.html#list"><B>LIST</B></A>                  x               x<P>
  <A REL=DEFINITION HREF="../Body/any_logical-pathname.html#logical-pathname"><B>LOGICAL-PATHNAME</B></A><P>
  <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A>                  x               x<P>
  <A REL=DEFINITION HREF="../Body/syscla_restart.html#restart"><B>RESTART</B></A>               x                               x<P>
  Group 2<P>
  <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#short-float"><B>SHORT-FLOAT</B></A>           special                         x<P>
  <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>          special                         x<P>
  <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A>          special                         x<P>
  <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#long-float"><B>LONG-FLOAT</B></A>            special                         x<P>
  Group 3<P>
  <A REL=DEFINITION HREF="../Body/syscla_broadcast-stream.html#broadcast-stream"><B>BROADCAST-STREAM</B></A>      x<P>
  <A REL=DEFINITION HREF="../Body/syscla_concatenated-stream.html#concatenated-stream"><B>CONCATENATED-STREAM</B></A>   x<P>
  <A REL=DEFINITION HREF="../Body/syscla_echo-stream.html#echo-stream"><B>ECHO-STREAM</B></A>           x<P>
  <A REL=DEFINITION HREF="../Body/syscla_file-stream.html#file-stream"><B>FILE-STREAM</B></A>           x<P>
  <A REL=DEFINITION HREF="../Body/syscla_string-stream.html#string-stream"><B>STRING-STREAM</B></A>         x<P>
  <A REL=DEFINITION HREF="../Body/syscla_synonym-stream.html#synonym-stream"><B>SYNONYM-STREAM</B></A>        x<P>
  <A REL=DEFINITION HREF="../Body/syscla_two-way-stream.html#two-way-stream"><B>TWO-WAY-STREAM</B></A>        x<P>
  Group 4<P>
  <A REL=DEFINITION HREF="../Body/typ_simple-bit-vector.html#simple-bit-vector"><B>SIMPLE-BIT-VECTOR</B></A>     x<P>
  <A REL=DEFINITION HREF="../Body/typ_simple-string.html#simple-string"><B>SIMPLE-STRING</B></A>         x<P>
  <A REL=DEFINITION HREF="../Body/typ_simple-vector.html#simple-vector"><B>SIMPLE-VECTOR</B></A>         x<P>
  Group 5<P>
  <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A>     x<P>
  <A REL=DEFINITION HREF="../Body/contyp_simple-condition.html#simple-condition"><B>SIMPLE-CONDITION</B></A>      x<P>
  <A REL=DEFINITION HREF="../Body/contyp_warning.html#warning"><B>WARNING</B></A>               x<P>
  Group 6<P>
  <A REL=DEFINITION HREF="../Body/typ_fixnum.html#fixnum"><B>FIXNUM</B></A>                x<P>
  <A REL=DEFINITION HREF="../Body/typ_bignum.html#bignum"><B>BIGNUM</B></A>                x<P>
<P>
Proposal (<A HREF="iss351-menu.html">TYPE-OF-AND-PREDEFINED-CLASSES:UNIFY-AND-EXTEND</A>)<P>
<P>
 1. Make the following changes to the disjointness requirements specified in<P>
 Section 2.2, subsection Type Relationships.  This supersedes issue<P>
 <A HREF="iss090.html">DATA-TYPES-HIERARCHY-UNDERSPECIFIED</A> and the corresponding sections of issue<P>
 <A HREF="iss175-menu.html">FUNCTION-TYPE</A>.<P>
<P>
 1a. Change the third bullet to<P>
<P>
   &quot;Among the types which correspond to predefined classes (listed in Figure<P>
    {insert figure number here, currently 2-13 }) only the subtype<P>
    relationships specified for those classes may exist.  Any type created by<P>
    <A REL=DEFINITION HREF="../Body/mac_defstruct.html#defstruct"><B>DEFSTRUCT</B></A>, <A REL=DEFINITION HREF="../Body/mac_defclass.html#defclass"><B>DEFCLASS</B></A>, or <A REL=DEFINITION HREF="../Body/mac_define-condition.html#define-condition"><B>DEFINE-CONDITION</B></A> is disjoint from any of the<P>
    listed types and from any other type created by these forms, except for<P>
    type relationships explicitly established by specifying superclasses in<P>
    <A REL=DEFINITION HREF="../Body/mac_defclass.html#defclass"><B>DEFCLASS</B></A> or <A REL=DEFINITION HREF="../Body/mac_define-condition.html#define-condition"><B>DEFINE-CONDITION</B></A>, or through the use of the :include option of<P>
    <A REL=DEFINITION HREF="../Body/mac_defstruct.html#defstruct"><B>DEFSTRUCT</B></A>.&quot;<P>
<P>
 1b. Strike bullets 4-6 and 21 (since they now follow from bullet 3).<P>
<P>
 2. Make the following changes to the constraints on <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A>.<P>
<P>
 2a. Change the first constraint on <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A> to be<P>
<P>
   &quot;For any object for which (<A REL=DEFINITION HREF="../Body/fun_typep.html#typep"><B>TYPEP</B></A> object type) is true when type is one of<P>
    the types for which there is a corresponding predefined <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> listed in<P>
    Figure { insert figure number here, currently 2-13 }, the result of<P>
    <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A> is a type specifier for which (<A REL=DEFINITION HREF="../Body/fun_subtypep.html#subtypep"><B>SUBTYPEP</B></A> (<A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A> object) type)<P>
    returns T T, i.e., either the type or a subtype of it (a subtype that the<P>
    implementation's <A REL=DEFINITION HREF="../Body/fun_subtypep.html#subtypep"><B>SUBTYPEP</B></A> can recognize).&quot;<P>
<P>
 2b. Change the fifth constraint on <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A> to also include condition types<P>
 defined with <A REL=DEFINITION HREF="../Body/mac_define-condition.html#define-condition"><B>DEFINE-CONDITION</B></A> and objects created with <A REL=DEFINITION HREF="../Body/fun_make-condition.html#make-condition"><B>MAKE-CONDITION</B></A>.<P>
<P>
 3. Make the following additions to the set of predefined classes.<P>
<P>
 3a. Add the following condition classes, with the specified <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence<P>
 lists:<P>
<P>
  <A REL=DEFINITION HREF="../Body/contyp_arithmetic-error.html#arithmetic-error"><B>ARITHMETIC-ERROR</B></A> (ARITHMENTIC-ERROR <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_cell-error.html#cell-error"><B>CELL-ERROR</B></A> (<A REL=DEFINITION HREF="../Body/contyp_cell-error.html#cell-error"><B>CELL-ERROR</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> (<A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_control-error.html#control-error"><B>CONTROL-ERROR</B></A> (<A REL=DEFINITION HREF="../Body/contyp_control-error.html#control-error"><B>CONTROL-ERROR</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_division-by-zero.html#division-by-zero"><B>DIVISION-BY-ZERO</B></A> (<A REL=DEFINITION HREF="../Body/contyp_division-by-zero.html#division-by-zero"><B>DIVISION-BY-ZERO</B></A> ARITHMENTIC-ERROR <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A><P>
                        <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_end-of-file.html#end-of-file"><B>END-OF-FILE</B></A> (<A REL=DEFINITION HREF="../Body/contyp_end-of-file.html#end-of-file"><B>END-OF-FILE</B></A> <A REL=DEFINITION HREF="../Body/contyp_stream-error.html#stream-error"><B>STREAM-ERROR</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> (<A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_file-error.html#file-error"><B>FILE-ERROR</B></A> (<A REL=DEFINITION HREF="../Body/contyp_file-error.html#file-error"><B>FILE-ERROR</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_floati_oint-inexact.html#floating-point-inexact"><B>FLOATING-POINT-INEXACT</B></A> (<A REL=DEFINITION HREF="../Body/contyp_floati_oint-inexact.html#floating-point-inexact"><B>FLOATING-POINT-INEXACT</B></A> ARITHMENTIC-ERROR <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A><P>
                        <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_floati_id-operation.html#floating-point-invalid-operation"><B>FLOATING-POINT-INVALID-OPERATION</B></A> (<A REL=DEFINITION HREF="../Body/contyp_floati_id-operation.html#floating-point-invalid-operation"><B>FLOATING-POINT-INVALID-OPERATION</B></A><P>
                        ARITHMENTIC-ERROR <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_floati_int-overflow.html#floating-point-overflow"><B>FLOATING-POINT-OVERFLOW</B></A> (<A REL=DEFINITION HREF="../Body/contyp_floati_int-overflow.html#floating-point-overflow"><B>FLOATING-POINT-OVERFLOW</B></A> ARITHMENTIC-ERROR <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A><P>
                        <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_floati_nt-underflow.html#floating-point-underflow"><B>FLOATING-POINT-UNDERFLOW</B></A> (<A REL=DEFINITION HREF="../Body/contyp_floati_nt-underflow.html#floating-point-underflow"><B>FLOATING-POINT-UNDERFLOW</B></A> ARITHMENTIC-ERROR <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A><P>
                        <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_package-error.html#package-error"><B>PACKAGE-ERROR</B></A> (<A REL=DEFINITION HREF="../Body/contyp_package-error.html#package-error"><B>PACKAGE-ERROR</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T) <P>
  <A REL=DEFINITION HREF="../Body/contyp_parse-error.html#parse-error"><B>PARSE-ERROR</B></A> (<A REL=DEFINITION HREF="../Body/contyp_parse-error.html#parse-error"><B>PARSE-ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_stream-error.html#stream-error"><B>STREAM-ERROR</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_print-not-readable.html#print-not-readable"><B>PRINT-NOT-READABLE</B></A> (<A REL=DEFINITION HREF="../Body/contyp_print-not-readable.html#print-not-readable"><B>PRINT-NOT-READABLE</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> SERIOUS-CONDIITON <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_program-error.html#program-error"><B>PROGRAM-ERROR</B></A> (<A REL=DEFINITION HREF="../Body/contyp_program-error.html#program-error"><B>PROGRAM-ERROR</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> (<A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_simple-condition.html#simple-condition"><B>SIMPLE-CONDITION</B></A> (<A REL=DEFINITION HREF="../Body/contyp_simple-condition.html#simple-condition"><B>SIMPLE-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_simple-error.html#simple-error"><B>SIMPLE-ERROR</B></A> (<A REL=DEFINITION HREF="../Body/contyp_simple-error.html#simple-error"><B>SIMPLE-ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_simple-condition.html#simple-condition"><B>SIMPLE-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A><P>
                        <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_simple-type-error.html#simple-type-error"><B>SIMPLE-TYPE-ERROR</B></A> (<A REL=DEFINITION HREF="../Body/contyp_simple-type-error.html#simple-type-error"><B>SIMPLE-TYPE-ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_simple-condition.html#simple-condition"><B>SIMPLE-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_type-error.html#type-error"><B>TYPE-ERROR</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A><P>
                        <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_simple-warning.html#simple-warning"><B>SIMPLE-WARNING</B></A> (<A REL=DEFINITION HREF="../Body/contyp_simple-warning.html#simple-warning"><B>SIMPLE-WARNING</B></A> <A REL=DEFINITION HREF="../Body/contyp_simple-condition.html#simple-condition"><B>SIMPLE-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_warning.html#warning"><B>WARNING</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_storage-condition.html#storage-condition"><B>STORAGE-CONDITION</B></A> (<A REL=DEFINITION HREF="../Body/contyp_storage-condition.html#storage-condition"><B>STORAGE-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_stream-error.html#stream-error"><B>STREAM-ERROR</B></A> (<A REL=DEFINITION HREF="../Body/contyp_stream-error.html#stream-error"><B>STREAM-ERROR</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_style-warning.html#style-warning"><B>STYLE-WARNING</B></A> (<A REL=DEFINITION HREF="../Body/contyp_style-warning.html#style-warning"><B>STYLE-WARNING</B></A> <A REL=DEFINITION HREF="../Body/contyp_warning.html#warning"><B>WARNING</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_type-error.html#type-error"><B>TYPE-ERROR</B></A> (<A REL=DEFINITION HREF="../Body/contyp_type-error.html#type-error"><B>TYPE-ERROR</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_unbound-slot.html#unbound-slot"><B>UNBOUND-SLOT</B></A> (<A REL=DEFINITION HREF="../Body/contyp_unbound-slot.html#unbound-slot"><B>UNBOUND-SLOT</B></A> <A REL=DEFINITION HREF="../Body/contyp_cell-error.html#cell-error"><B>CELL-ERROR</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_unbound-variable.html#unbound-variable"><B>UNBOUND-VARIABLE</B></A> (<A REL=DEFINITION HREF="../Body/contyp_unbound-variable.html#unbound-variable"><B>UNBOUND-VARIABLE</B></A> <A REL=DEFINITION HREF="../Body/contyp_cell-error.html#cell-error"><B>CELL-ERROR</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A><P>
                        <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_undefined-function.html#undefined-function"><B>UNDEFINED-FUNCTION</B></A> (<A REL=DEFINITION HREF="../Body/contyp_undefined-function.html#undefined-function"><B>UNDEFINED-FUNCTION</B></A> <A REL=DEFINITION HREF="../Body/contyp_cell-error.html#cell-error"><B>CELL-ERROR</B></A> <A REL=DEFINITION HREF="../Body/any_error.html#error"><B>ERROR</B></A> <A REL=DEFINITION HREF="../Body/contyp_serious-condition.html#serious-condition"><B>SERIOUS-CONDITION</B></A><P>
                        <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/contyp_warning.html#warning"><B>WARNING</B></A> (<A REL=DEFINITION HREF="../Body/contyp_warning.html#warning"><B>WARNING</B></A> <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> T)<P>
<P>
 3b. Add the <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> <A REL=DEFINITION HREF="../Body/syscla_restart.html#restart"><B>RESTART</B></A>, with a <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence list of (<A REL=DEFINITION HREF="../Body/syscla_restart.html#restart"><B>RESTART</B></A> T).<P>
<P>
 3c. Add the <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> <A REL=DEFINITION HREF="../Body/any_logical-pathname.html#logical-pathname"><B>LOGICAL-PATHNAME</B></A>, with a <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence list of<P>
 (<A REL=DEFINITION HREF="../Body/any_logical-pathname.html#logical-pathname"><B>LOGICAL-PATHNAME</B></A> <A REL=DEFINITION HREF="../Body/any_pathname.html#pathname"><B>PATHNAME</B></A> T).<P>
<P>
 3d. Add the following classes with the specified <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence lists:<P>
  <A REL=DEFINITION HREF="../Body/syscla_broadcast-stream.html#broadcast-stream"><B>BROADCAST-STREAM</B></A>              (<A REL=DEFINITION HREF="../Body/syscla_broadcast-stream.html#broadcast-stream"><B>BROADCAST-STREAM</B></A> <A REL=DEFINITION HREF="../Body/syscla_stream.html#stream"><B>STREAM</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/syscla_concatenated-stream.html#concatenated-stream"><B>CONCATENATED-STREAM</B></A>           (<A REL=DEFINITION HREF="../Body/syscla_concatenated-stream.html#concatenated-stream"><B>CONCATENATED-STREAM</B></A> <A REL=DEFINITION HREF="../Body/syscla_stream.html#stream"><B>STREAM</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/syscla_echo-stream.html#echo-stream"><B>ECHO-STREAM</B></A>                   (<A REL=DEFINITION HREF="../Body/syscla_echo-stream.html#echo-stream"><B>ECHO-STREAM</B></A> <A REL=DEFINITION HREF="../Body/syscla_stream.html#stream"><B>STREAM</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/syscla_file-stream.html#file-stream"><B>FILE-STREAM</B></A>                   (<A REL=DEFINITION HREF="../Body/syscla_file-stream.html#file-stream"><B>FILE-STREAM</B></A> <A REL=DEFINITION HREF="../Body/syscla_stream.html#stream"><B>STREAM</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/syscla_string-stream.html#string-stream"><B>STRING-STREAM</B></A>                 (<A REL=DEFINITION HREF="../Body/syscla_string-stream.html#string-stream"><B>STRING-STREAM</B></A> <A REL=DEFINITION HREF="../Body/syscla_stream.html#stream"><B>STREAM</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/syscla_synonym-stream.html#synonym-stream"><B>SYNONYM-STREAM</B></A>                (<A REL=DEFINITION HREF="../Body/syscla_synonym-stream.html#synonym-stream"><B>SYNONYM-STREAM</B></A> <A REL=DEFINITION HREF="../Body/syscla_stream.html#stream"><B>STREAM</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/syscla_two-way-stream.html#two-way-stream"><B>TWO-WAY-STREAM</B></A>                (<A REL=DEFINITION HREF="../Body/syscla_two-way-stream.html#two-way-stream"><B>TWO-WAY-STREAM</B></A> <A REL=DEFINITION HREF="../Body/syscla_stream.html#stream"><B>STREAM</B></A> T)<P>
 Remove the 23rd bullet from Section 2.2, subsection Type Relationships,<P>
 which lists the above types as being disjoint subtypes of <A REL=DEFINITION HREF="../Body/syscla_stream.html#stream"><B>STREAM</B></A>.<P>
<P>
 3e. Add the following classes from the CLOS specification, with the specified<P>
 <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence lists:<P>
  <A REL=DEFINITION HREF="../Body/syscla_built-in-class.html#built-in-class"><B>BUILT-IN-CLASS</B></A>                (<A REL=DEFINITION HREF="../Body/syscla_built-in-class.html#built-in-class"><B>BUILT-IN-CLASS</B></A> <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>CLASS</B></A> <A REL=DEFINITION HREF="../Body/cla_standard-object.html#standard-object"><B>STANDARD-OBJECT</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>CLASS</B></A>                         (<A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>CLASS</B></A> <A REL=DEFINITION HREF="../Body/cla_standard-object.html#standard-object"><B>STANDARD-OBJECT</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/syscla_generic-function.html#generic-function"><B>GENERIC-FUNCTION</B></A>              (<A REL=DEFINITION HREF="../Body/syscla_generic-function.html#generic-function"><B>GENERIC-FUNCTION</B></A> <A REL=DEFINITION HREF="../Body/any_function.html#function"><B>FUNCTION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/syscla_method.html#method"><B>METHOD</B></A>                        (<A REL=DEFINITION HREF="../Body/syscla_method.html#method"><B>METHOD</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/any_method-combination.html#method-combination"><B>METHOD-COMBINATION</B></A>            (<A REL=DEFINITION HREF="../Body/any_method-combination.html#method-combination"><B>METHOD-COMBINATION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/syscla_standard-class.html#standard-class"><B>STANDARD-CLASS</B></A>                (<A REL=DEFINITION HREF="../Body/syscla_standard-class.html#standard-class"><B>STANDARD-CLASS</B></A> <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>CLASS</B></A> <A REL=DEFINITION HREF="../Body/cla_standard-object.html#standard-object"><B>STANDARD-OBJECT</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/syscla_standa_ric-function.html#standard-generic-function"><B>STANDARD-GENERIC-FUNCTION</B></A>     (<A REL=DEFINITION HREF="../Body/syscla_standa_ric-function.html#standard-generic-function"><B>STANDARD-GENERIC-FUNCTION</B></A> <A REL=DEFINITION HREF="../Body/syscla_generic-function.html#generic-function"><B>GENERIC-FUNCTION</B></A><P>
                                        <A REL=DEFINITION HREF="../Body/any_function.html#function"><B>FUNCTION</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/syscla_standard-method.html#standard-method"><B>STANDARD-METHOD</B></A>               (<A REL=DEFINITION HREF="../Body/syscla_standard-method.html#standard-method"><B>STANDARD-METHOD</B></A> <A REL=DEFINITION HREF="../Body/syscla_method.html#method"><B>METHOD</B></A> <A REL=DEFINITION HREF="../Body/cla_standard-object.html#standard-object"><B>STANDARD-OBJECT</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/cla_standard-object.html#standard-object"><B>STANDARD-OBJECT</B></A>               (<A REL=DEFINITION HREF="../Body/cla_standard-object.html#standard-object"><B>STANDARD-OBJECT</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/syscla_structure-class.html#structure-class"><B>STRUCTURE-CLASS</B></A>               (<A REL=DEFINITION HREF="../Body/syscla_structure-class.html#structure-class"><B>STRUCTURE-CLASS</B></A> <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>CLASS</B></A> <A REL=DEFINITION HREF="../Body/cla_standard-object.html#standard-object"><B>STANDARD-OBJECT</B></A> T)<P>
  <A REL=DEFINITION HREF="../Body/cla_structure-object.html#structure-object"><B>STRUCTURE-OBJECT</B></A>              (<A REL=DEFINITION HREF="../Body/cla_structure-object.html#structure-object"><B>STRUCTURE-OBJECT</B></A> T)<P>
<P>
 4. Allow implementations to modify the <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence lists of classes<P>
 which are not specified to include either <A REL=DEFINITION HREF="../Body/cla_standard-object.html#standard-object"><B>STANDARD-OBJECT</B></A> or <A REL=DEFINITION HREF="../Body/cla_structure-object.html#structure-object"><B>STRUCTURE-OBJECT</B></A><P>
 to include those classes, placed before the <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> T but after all of the<P>
 other specified classes.<P>
<P>
Proposal (TYPE-OF-AND-PREDEFINED-CLASSES:FLOAT-SUBCLASSES)<P>
<P>
 Add the following to TYPE-OF-AND-PREDEFINED-CLASSES:UNIFY-AND-EXTEND:<P>
<P>
 3f. Add the following subclasses of FLOAT:  <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#short-float"><B>SHORT-FLOAT</B></A>, <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>,<P>
 <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A>, <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#long-float"><B>LONG-FLOAT</B></A>.  It is implementation-defined which among these<P>
 classes are pairwise disjoint.  If there are fewer than four internal<P>
 representations for floats, then some of these classes will not have proper<P>
 names.  Instead, the rules for handling fewer than four internal<P>
 representations (described in Section 2.2 subsection Data Type Definition) are<P>
 used to determine the principal type name, for which there will be a <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A><P>
 which has a proper name.  The other types which share the internal<P>
 representation will all share the principal <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A>.  The <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence list<P>
 for the properly named classes are <P>
<P>
    (<A REL=DEFINITION HREF="../Body/stagenfun_class-name.html#class-name"><B>class-name</B></A> <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> <A REL=DEFINITION HREF="../Body/syscla_number.html#number"><B>NUMBER</B></A> T)<P>
<P>
 where '<A REL=DEFINITION HREF="../Body/stagenfun_class-name.html#class-name"><B>class-name</B></A>' is the name of the <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A>.  Thus we get the following rules<P>
 to handle a situation where there are fewer than four internal representations<P>
 of floats. <P>
<P>
    1. If there is only one internal representation for floats, then there is<P>
    one <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A>, named <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>.  (<A REL=DEFINITION HREF="../Body/acc_find-class.html#find-class"><B>FIND-CLASS</B></A> <A REL=DEFINITION HREF="../Body/stagenfun_class-name.html#class-name"><B>class-name</B></A>) returns this <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A><P>
    for all four of the subclasses of <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A>.  The <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence list for<P>
    this <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> is (<A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A> <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> <A REL=DEFINITION HREF="../Body/syscla_number.html#number"><B>NUMBER</B></A> T).<P>
<P>
    2. If there are two internal representations for floats, then they can be<P>
    arranged in either of the following ways: <P>
<P>
    * Two classes are provided, named <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#short-float"><B>SHORT-FLOAT</B></A> and <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>.<P>
      (<A REL=DEFINITION HREF="../Body/acc_find-class.html#find-class"><B>FIND-CLASS</B></A> <A REL=DEFINITION HREF="../Body/stagenfun_class-name.html#class-name"><B>class-name</B></A>) returns the <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A> for any of the<P>
      names <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>, <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A>, or <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#long-float"><B>LONG-FLOAT</B></A>.  The <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence<P>
      lists of these classes are:  <P>
<P>
        <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#short-float"><B>SHORT-FLOAT</B></A>     (<A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#short-float"><B>SHORT-FLOAT</B></A> <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> <A REL=DEFINITION HREF="../Body/syscla_number.html#number"><B>NUMBER</B></A> T)<P>
        <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>    (<A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A> <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> <A REL=DEFINITION HREF="../Body/syscla_number.html#number"><B>NUMBER</B></A> T)<P>
<P>
    * Two classes are provided, names <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A> and <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A>.<P>
      (<A REL=DEFINITION HREF="../Body/acc_find-class.html#find-class"><B>FIND-CLASS</B></A> <A REL=DEFINITION HREF="../Body/stagenfun_class-name.html#class-name"><B>class-name</B></A>) returns the <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A> for either of the<P>
      names <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#short-float"><B>SHORT-FLOAT</B></A> or <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>.  (<A REL=DEFINITION HREF="../Body/acc_find-class.html#find-class"><B>FIND-CLASS</B></A> <A REL=DEFINITION HREF="../Body/stagenfun_class-name.html#class-name"><B>class-name</B></A>) returns the<P>
      <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A> for either of the names <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A> or <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#long-float"><B>LONG-FLOAT</B></A>.<P>
      The <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence lists for these classes are: <P>
<P>
        <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>    (<A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A> <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> <A REL=DEFINITION HREF="../Body/syscla_number.html#number"><B>NUMBER</B></A> T)<P>
        <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A>    (<A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A> <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> <A REL=DEFINITION HREF="../Body/syscla_number.html#number"><B>NUMBER</B></A> T)<P>
<P>
    3. If there are three internal representations for floats, then they can be<P>
    arranged in either of the following ways:<P>
<P>
    * Three classes are provided, named <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#short-float"><B>SHORT-FLOAT</B></A>, <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>, and<P>
      <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A>.  (<A REL=DEFINITION HREF="../Body/acc_find-class.html#find-class"><B>FIND-CLASS</B></A> <A REL=DEFINITION HREF="../Body/stagenfun_class-name.html#class-name"><B>class-name</B></A>) returns the <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A> for<P>
      either of the names <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A> or <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#long-float"><B>LONG-FLOAT</B></A>.  The <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence<P>
      lists for these classes are: <P>
<P>
        <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#short-float"><B>SHORT-FLOAT</B></A>     (<A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#short-float"><B>SHORT-FLOAT</B></A> <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> <A REL=DEFINITION HREF="../Body/syscla_number.html#number"><B>NUMBER</B></A> T)<P>
        <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>    (<A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A> <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> <A REL=DEFINITION HREF="../Body/syscla_number.html#number"><B>NUMBER</B></A> T)<P>
        <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A>    (<A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A> <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> <A REL=DEFINITION HREF="../Body/syscla_number.html#number"><B>NUMBER</B></A> T)<P>
<P>
    * Three classes are provided, named <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>, <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A>, and<P>
      <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#long-float"><B>LONG-FLOAT</B></A>.  (<A REL=DEFINITION HREF="../Body/acc_find-class.html#find-class"><B>FIND-CLASS</B></A> <A REL=DEFINITION HREF="../Body/stagenfun_class-name.html#class-name"><B>class-name</B></A>) returns the <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A> for<P>
      either of the names <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#short-float"><B>SHORT-FLOAT</B></A> or <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>.  The <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence<P>
      lists for these classes are: <P>
<P>
        <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>    (<A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A> <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> <A REL=DEFINITION HREF="../Body/syscla_number.html#number"><B>NUMBER</B></A> T)<P>
        <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A>    (<A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A> <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> <A REL=DEFINITION HREF="../Body/syscla_number.html#number"><B>NUMBER</B></A> T)<P>
        <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#long-float"><B>LONG-FLOAT</B></A>      (<A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#long-float"><B>LONG-FLOAT</B></A> <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> <A REL=DEFINITION HREF="../Body/syscla_number.html#number"><B>NUMBER</B></A> T)<P>
<P>
Proposal (<A HREF="iss351-menu.html">TYPE-OF-AND-PREDEFINED-CLASSES:TYPE-OF-HANDLES-FLOATS</A>)<P>
<P>
 Add the following to TYPE-OF-AND-PREDEFINED-CLASSES:UNIFY-AND-EXTEND:<P>
<P>
 2c. Add the following additional constraint on <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A>.<P>
<P>
  &quot;For any object for which (<A REL=DEFINITION HREF="../Body/fun_typep.html#typep"><B>TYPEP</B></A> object type) is true when type is one of<P>
   the types <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#short-float"><B>SHORT-FLOAT</B></A>, <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>, <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A>, or <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#long-float"><B>LONG-FLOAT</B></A>, the<P>
   result of <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A> is a type specifier for which (<A REL=DEFINITION HREF="../Body/fun_subtypep.html#subtypep"><B>SUBTYPEP</B></A> (<A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A> object)<P>
   type) returns T T, i.e, either the type or a subtype of it (a subtype that<P>
   the implementation's <A REL=DEFINITION HREF="../Body/fun_subtypep.html#subtypep"><B>SUBTYPEP</B></A> can recognize).&quot;<P>
<P>
<B>Rationale:<P>
</B><P>
 Changing the list of disjoint types and the first constraint on <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A> to<P>
 reference the table of predefined classes merges three places with almost<P>
 identical information, resulting in simplification and improved cohesion.<P>
 Note that one effect of this is to remove the subtypes of <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> (<A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#short-float"><B>SHORT-FLOAT</B></A>,<P>
 <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A>, <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A>, and <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#long-float"><B>LONG-FLOAT</B></A>) from the list of type specifiers<P>
 mentioned in the first constraint on <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A> (but see the subproposals<P>
 FLOAT-SUBCLASSES and TYPE-OF-HANDLES-FLOATS), and to add the types <A REL=DEFINITION HREF="../Body/any_list.html#list"><B>LIST</B></A><P>
 (which is <A REL=DEFINITION HREF="../Body/any_not.html#not"><B>not</B></A> necessary, since <A REL=DEFINITION HREF="../Body/any_cons.html#cons"><B>CONS</B></A> <A REL=DEFINITION HREF="../Body/any_and.html#and"><B>and</B></A> <A REL=DEFINITION HREF="../Body/any_null.html#null"><B>NULL</B></A> form an exhaustive partition of<P>
 <A REL=DEFINITION HREF="../Body/any_list.html#list"><B>LIST</B></A>) and <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> (which is probably missing due to oversight).<P>
<P>
 Adding <A REL=DEFINITION HREF="../Body/mac_define-condition.html#define-condition"><B>DEFINE-CONDITION</B></A> to the third bullet brings it <A REL=DEFINITION HREF="../Body/dec_inlinecm_notinline.html#inline"><B>inline</B></A> with the intent<P>
 of issue <A HREF="iss049.html">CLOS-CONDITIONS</A>.<P>
<P>
 Adding <A REL=DEFINITION HREF="../Body/mac_define-condition.html#define-condition"><B>DEFINE-CONDITION</B></A> and <A REL=DEFINITION HREF="../Body/fun_make-condition.html#make-condition"><B>MAKE-CONDITION</B></A> to the fifth constraint brings it<P>
 <A REL=DEFINITION HREF="../Body/dec_inlinecm_notinline.html#inline"><B>inline</B></A> with the intent of issue <A HREF="iss049.html">CLOS-CONDITIONS</A>.<P>
<P>
 Adding classes for the predefined condition types matches up with the<P>
 disjointness requirements specified by the Condition System, and corresponds<P>
 to the intent of issue <A HREF="iss049.html">CLOS-CONDITIONS</A>.  It could be argued that those two<P>
 places already mandate this addition, but this proposal ensures that we are<P>
 agreed on that.<P>
<P>
 Adding <A REL=DEFINITION HREF="../Body/syscla_restart.html#restart"><B>RESTART</B></A> as a predefined <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> matches up with the disjointness<P>
 requirements specified by the Condition System.  It could be argued that<P>
 the Condition System already mandates the addition of this <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A>, but this<P>
 proposal ensures that we are agreed on that.<P>
<P>
 Adding <A REL=DEFINITION HREF="../Body/any_logical-pathname.html#logical-pathname"><B>LOGICAL-PATHNAME</B></A> as a predefined <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> seems <A REL=DEFINITION HREF="../Body/dec_inlinecm_notinline.html#inline"><B>inline</B></A> with the<P>
 expressed intent for making it a type.  It is sufficiently new that it may<P>
 simply have not been propagated to all the places that should mention it.<P>
<P>
 Adding the stream subclasses seems reasonable, since we are already<P>
 requiring them to be disjoint subtypes of <A REL=DEFINITION HREF="../Body/syscla_stream.html#stream"><B>STREAM</B></A>.<P>
<P>
 Adding the CLOS classes fixes an oversight.<P>
<P>
 Allowing implementations to add <A REL=DEFINITION HREF="../Body/cla_standard-object.html#standard-object"><B>STANDARD-OBJECT</B></A> or <A REL=DEFINITION HREF="../Body/cla_structure-object.html#structure-object"><B>STRUCTURE-OBJECT</B></A> to the<P>
 <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence lists allows them to implement any of the predefined classes<P>
 using the <A REL=DEFINITION HREF="../Body/sec_7-6-6-2.html#standard"><B>standard</B></A> metaclasses <A REL=DEFINITION HREF="../Body/syscla_standard-class.html#standard-class"><B>STANDARD-CLASS</B></A> and <A REL=DEFINITION HREF="../Body/syscla_structure-class.html#structure-class"><B>STRUCTURE-CLASS</B></A>.<P>
<P>
 The two subproposals, FLOAT-SUBCLASSES and TYPE-OF-HANDLES-FLOATS, are two<P>
 different ways we could undo the removal of the subtypes of <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> from the<P>
 list of types mentioned by the first constraint on <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A>.<P>
<P>
<B>Current Practice:<P>
</B><P>
 Up to some &quot;bugs&quot; because they haven't caught up with X3J13 on some of<P>
 these yet, IIM mostly implements this proposal.<P>
<P>
 Other implementations were not surveyed.<P>
<P>
<B>Cost to Implementors:<P>
</B><P>
 Redirecting the disjointness requirements to reference the list of<P>
 predefined classes and modifying the constraints on <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A> primarily<P>
 affects documentation, especially in the writing of the Standard.  The<P>
 requirements on implementors are largely unchanged.<P>
<P>
 The effect of adding the various classes are probably minimal.<P>
 Implementations which already have the <A REL=DEFINITION HREF="../Body/syscla_stream.html#stream"><B>STREAM</B></A> subtypes as distinguished<P>
 types can probably easily support them as classes too, since they are<P>
 probably implemented using <A REL=DEFINITION HREF="../Body/mac_defstruct.html#defstruct"><B>DEFSTRUCT</B></A>, CLOS, FLAVORS, or some other similar<P>
 mechanism, and making <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A> return the right type name in this case is<P>
 probably trivial.  Implementations which don't have these stream types<P>
 already have some work to do, and the necessary support for the types will<P>
 probably produce the necessary support for the other stuff.  Similarly for<P>
 <A REL=DEFINITION HREF="../Body/contyp_condition.html#condition"><B>CONDITION</B></A> and its subtypes, <A REL=DEFINITION HREF="../Body/any_logical-pathname.html#logical-pathname"><B>LOGICAL-PATHNAME</B></A>, <A REL=DEFINITION HREF="../Body/syscla_restart.html#restart"><B>RESTART</B></A>, and the CLOS classes.<P>
<P>
<B>Cost to Users:<P>
</B><P>
 Minimal.  Many of the types mentioned here are new.  The changes to <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A><P>
 would probably be an improvement for most users.<P>
<P>
<B>Benifits:<P>
</B><P>
 Fewer distributed tables which need to be maintained while writing the<P>
 Standard.<P>
<P>
<B>Discussion:<P>
</B><P>
 An alternative to the unification would be to fix <A REL=DEFINITION HREF="../Body/fun_type-of.html#type-of"><B>TYPE-OF</B></A> by adding <A REL=DEFINITION HREF="../Body/syscla_real.html#real"><B>REAL</B></A> to<P>
 the list of built-in types referenced by the first constraint, to modify the<P>
 fifth constraint to mention <A REL=DEFINITION HREF="../Body/mac_define-condition.html#define-condition"><B>DEFINE-CONDITION</B></A>, and to modify the third bullet<P>
 of the type relationships to also mention <A REL=DEFINITION HREF="../Body/mac_define-condition.html#define-condition"><B>DEFINE-CONDITION</B></A>.<P>
<P>
 A consequence of this proposal is that the following type names do not have<P>
 associated classes.  Perhaps we should add a table to the <A REL=DEFINITION HREF="../Body/sec_7-6-6-2.html#standard"><B>standard</B></A> which<P>
 lists these as specifically not required to have associated classes (though<P>
 they may be classes in some implementations).<P>
<P>
 Subtypes of <A REL=DEFINITION HREF="../Body/syscla_integer.html#integer"><B>INTEGER</B></A>            Subtypes of <A REL=DEFINITION HREF="../Body/any_character.html#character"><B>CHARACTER</B></A><P>
   <A REL=DEFINITION HREF="../Body/typ_bignum.html#bignum"><B>BIGNUM</B></A>                         BASE-CHARACTER<P>
   <A REL=DEFINITION HREF="../Body/any_bit.html#bit"><B>BIT</B></A>                            EXTENDED-CHARACTER<P>
   <A REL=DEFINITION HREF="../Body/typ_fixnum.html#fixnum"><B>FIXNUM</B></A>                         <A REL=DEFINITION HREF="../Body/typ_standard-char.html#standard-char"><B>STANDARD-CHAR</B></A><P>
   <A REL=DEFINITION HREF="../Body/typ_signed-byte.html#signed-byte"><B>SIGNED-BYTE</B></A><P>
   <A REL=DEFINITION HREF="../Body/typ_unsigned-byte.html#unsigned-byte"><B>UNSIGNED-BYTE</B></A><P>
<P>
 Subtypes of <A REL=DEFINITION HREF="../Body/syscla_array.html#array"><B>ARRAY</B></A>              Subtypes of <A REL=DEFINITION HREF="../Body/any_function.html#function"><B>FUNCTION</B></A>            Other<P>
   <A REL=DEFINITION HREF="../Body/typ_base-string.html#base-string"><B>BASE-STRING</B></A>                    <A REL=DEFINITION HREF="../Body/typ_compiled-function.html#compiled-function"><B>COMPILED-FUNCTION</B></A>               <A REL=DEFINITION HREF="../Body/any_atom.html#atom"><B>ATOM</B></A><P>
   <A REL=DEFINITION HREF="../Body/typ_simple-array.html#simple-array"><B>SIMPLE-ARRAY</B></A>                                                   <A REL=DEFINITION HREF="../Body/any_nil.html#nil"><B>NIL</B></A><P>
   <A REL=DEFINITION HREF="../Body/typ_simple-base-string.html#simple-base-string"><B>SIMPLE-BASE-STRING</B></A>           Subtypes of <A REL=DEFINITION HREF="../Body/syscla_symbol.html#symbol"><B>SYMBOL</B></A><P>
   <A REL=DEFINITION HREF="../Body/typ_simple-bit-vector.html#simple-bit-vector"><B>SIMPLE-BIT-VECTOR</B></A>              <A REL=DEFINITION HREF="../Body/typ_keyword.html#keyword"><B>KEYWORD</B></A><P>
   <A REL=DEFINITION HREF="../Body/typ_simple-string.html#simple-string"><B>SIMPLE-STRING</B></A><P>
   <A REL=DEFINITION HREF="../Body/typ_simple-vector.html#simple-vector"><B>SIMPLE-VECTOR</B></A><P>
<P>
 Subtypes of <A REL=DEFINITION HREF="../Body/any_float.html#float"><B>FLOAT</B></A> (if FLOAT-SUBCLASSES is not adopted)<P>
   <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#short-float"><B>SHORT-FLOAT</B></A><P>
   <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#single-float"><B>SINGLE-FLOAT</B></A><P>
   <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#double-float"><B>DOUBLE-FLOAT</B></A><P>
   <A REL=DEFINITION HREF="../Body/typ_short-flo_m_long-float.html#long-float"><B>LONG-FLOAT</B></A><P>
<P>
 Barrett isn't entirely happy with the <A REL=DEFINITION HREF="../Body/syscla_class.html#class"><B>class</B></A> precedence lists specified for<P>
 the CLOS classes.  He feels that they might be overly constrained in some<P>
 cases.  For example, it should be possible to have an implementation make<P>
 <A REL=DEFINITION HREF="../Body/syscla_structure-class.html#structure-class"><B>STRUCTURE-CLASS</B></A> a trivial subclass of <A REL=DEFINITION HREF="../Body/syscla_standard-class.html#standard-class"><B>STANDARD-CLASS</B></A>, define <A REL=DEFINITION HREF="../Body/mac_defstruct.html#defstruct"><B>DEFSTRUCT</B></A><P>
 (without the :type option) in terms of <A REL=DEFINITION HREF="../Body/mac_defclass.html#defclass"><B>DEFCLASS</B></A>, and make <A REL=DEFINITION HREF="../Body/cla_structure-object.html#structure-object"><B>STRUCTURE-OBJECT</B></A> be<P>
 a subclass of <A REL=DEFINITION HREF="../Body/cla_standard-object.html#standard-object"><B>STANDARD-OBJECT</B></A>.<P>
</PRE>

<HR>

<A REL=NAVIGATOR HREF="../FrontMatter/Starting-Points.html"><IMG ALT="[Starting Points]" SRC="../Graphics/Starting-Points.gif" ALIGN=Bottom></A><A REL=TOC HREF="../FrontMatter/Chapter-Index.html"><IMG ALT="[Contents]" SRC="../Graphics/Contents.gif" ALIGN=Bottom></A><A REL=INDEX HREF="../FrontMatter/Master-Index.html"><IMG ALT="[Index]" SRC="../Graphics/Index.gif" ALIGN=Bottom></A><A REL=INDEX HREF="../FrontMatter/Symbol-Index.html"><IMG ALT="[Symbols]" SRC="../Graphics/Symbols.gif" ALIGN=Bottom></A><A REL=GLOSSARY HREF="../Body/sec_26-1.html"><IMG ALT="[Glossary]" SRC="../Graphics/Glossary.gif" ALIGN=Bottom></A><A HREF="Issues-Categorized.html"><IMG ALT="[Issues]" SRC="../Graphics/Issues.gif" ALIGN=Bottom></A><BR>

<A REL=COPYRIGHT HREF="../FrontMatter/About-HyperSpec.html#Legal"><I>Copyright 1996, The Harlequin Group Limited.  All Rights Reserved.</I></A><P>
</BODY>

<!-- Mirrored from www.cs.cmu.edu/afs/cs/project/ai-repository/ai/html/hyperspec/HyperSpec/Issues/iss351-writeup.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 21 Oct 2021 15:08:28 GMT -->
</HTML>
