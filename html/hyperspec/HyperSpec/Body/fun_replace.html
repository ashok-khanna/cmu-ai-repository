<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!-- Common Lisp HyperSpec (TM), version 3.0 generated by kmp on Thu, 2-May-1996 10:21am EDT -->
<HTML>

<!-- Mirrored from www.cs.cmu.edu/afs/cs/project/ai-repository/ai/html/hyperspec/HyperSpec/Body/fun_replace.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 21 Oct 2021 15:06:55 GMT -->
<HEAD>
<TITLE>CLHS: Function REPLACE</TITLE>
<META HTTP-EQUIV="Author" CONTENT="Kent M. Pitman">
<META HTTP-EQUIV="Organization" CONTENT="The Harlequin Group Limited">
<LINK REL=TOP HREF="../FrontMatter/index-2.html">
<LINK REL=COPYRIGHT HREF="../FrontMatter/About-HyperSpec.html#Legal">
<LINK REL=DISCLAIMER HREF="../FrontMatter/About-HyperSpec.html#Disclaimer">
<LINK REL=PREV HREF="fun_mismatch.html">
<LINK REL=UP HREF="sec_the_seque_s_dictionary.html">
<LINK REL=NEXT HREF="fun_substitut_itute-if-not.html">
</HEAD>
<BODY BGCOLOR="#c0c0c0">
<H1><A REV=MADE HREF="http://www.harlequin.com/"><IMG ALT="[HARLEQUIN]" SRC="../Graphics/Harlequin-Small.gif" ALIGN=Bottom></A><A REL=TOP HREF="../FrontMatter/index-2.html"><IMG ALT="[Common Lisp HyperSpec (TM)]" SRC="../Graphics/HyperSpec-Small.gif" ALIGN=Bottom></A> <A REL=PREV HREF="fun_mismatch.html"><IMG ALT="[Previous]" SRC="../Graphics/Prev.gif" ALIGN=Bottom></A><A REL=UP HREF="sec_the_seque_s_dictionary.html"><IMG ALT="[Up]" SRC="../Graphics/Up.gif" ALIGN=Bottom></A><A REL=NEXT HREF="fun_substitut_itute-if-not.html"><IMG ALT="[Next]" SRC="../Graphics/Next.gif" ALIGN=Bottom></A></H1>

<HR>

<A NAME="replace"><I>Function</I> <B>REPLACE</B></A> <P>
<P><B>Syntax:</B><P>
 <P>

<B>replace</B> <I>sequence-1 sequence-2 <TT>&amp;key</TT> start1 end1 start2 end2</I> =&gt; <I>sequence-1</I><P>
 <P>
<P><B>Arguments and Values:</B><P>
 <P>
<I>sequence-1</I>---a <A REL=DEFINITION HREF="glo_s.html#sequence"><I>sequence</I></A>. <P>
<I>sequence-2</I>---a <A REL=DEFINITION HREF="glo_s.html#sequence"><I>sequence</I></A>. <P>
  <I>start1</I>, <I>end1</I>---<A REL=DEFINITION HREF="glo_b.html#bounding_index_designator"><I>bounding index designators</I></A> of <I>sequence-1</I>. The defaults for <I>start1</I> and <I>end1</I> are <TT>0</TT> and <A REL=DEFINITION HREF="any_nil.html#nil"><B>nil</B></A>, respectively. <P>
<I>start2</I>, <I>end2</I>---<A REL=DEFINITION HREF="glo_b.html#bounding_index_designator"><I>bounding index designators</I></A> of <I>sequence-2</I>. The defaults for <I>start2</I> and <I>end2</I> are <TT>0</TT> and <A REL=DEFINITION HREF="any_nil.html#nil"><B>nil</B></A>, respectively.   <P>
<P><B>Description:</B><P>
 <P>
Destructively modifies <I>sequence-1</I> by replacing the <A REL=DEFINITION HREF="glo_e.html#element"><I>elements</I></A> of <I>subsequence-1</I> <A REL=DEFINITION HREF="glo_b.html#bounded"><I>bounded</I></A> by <I>start1</I> and <I>end1</I> with the <A REL=DEFINITION HREF="glo_e.html#element"><I>elements</I></A> of <I>subsequence-2</I> <A REL=DEFINITION HREF="glo_b.html#bounded"><I>bounded</I></A> by <I>start2</I> and <I>end2</I>. <P>
<I>Sequence-1</I> is destructively modified by copying successive <A REL=DEFINITION HREF="glo_e.html#element"><I>elements</I></A> into it from <I>sequence-2</I>. <A REL=DEFINITION HREF="glo_e.html#element"><I>Elements</I></A> of the subsequence of <I>sequence-2</I> <A REL=DEFINITION HREF="glo_b.html#bounded"><I>bounded</I></A> by <I>start2</I> and <I>end2</I> are copied into the subsequence of <I>sequence-1</I> <A REL=DEFINITION HREF="glo_b.html#bounded"><I>bounded</I></A> by <I>start1</I> and <I>end1</I>. If these subsequences are not of the same length, then the shorter length determines how many <A REL=DEFINITION HREF="glo_e.html#element"><I>elements</I></A> are copied; the extra <A REL=DEFINITION HREF="glo_e.html#element"><I>elements</I></A> near the end of the longer subsequence are not involved in the operation. The number of elements copied can be expressed as: <P>
<PRE>
 (min (- end1 start1) (- end2 start2))
</PRE>
</TT> <P>
If <I>sequence-1</I> and <I>sequence-2</I> are the <A REL=DEFINITION HREF="glo_s.html#same"><I>same</I></A> <A REL=DEFINITION HREF="glo_o.html#object"><I>object</I></A> and the region being modified overlaps the region being copied from, then it is as if the entire source region were copied to another place and only then copied back into the target region. However, if <I>sequence-1</I> and <I>sequence-2</I> are not the same, but the region being modified overlaps the region being copied from (perhaps because of shared list structure or displaced <A REL=DEFINITION HREF="glo_a.html#array"><I>arrays</I></A>), then after the <A REL=DEFINITION HREF="#replace"><B>replace</B></A> operation the subsequence of <I>sequence-1</I> being modified will have unpredictable contents. It is an error if the elements of <I>sequence-2</I> are not of a <A REL=DEFINITION HREF="glo_t.html#type"><I>type</I></A> that can be stored into <I>sequence-1</I>. <P>
<P><B>Examples:</B><P>
 
<PRE>
 (replace &quot;abcdefghij&quot; &quot;0123456789&quot; :start1 4 :end1 7 :start2 4) 
=&gt;  &quot;abcd456hij&quot;
 (setq lst &quot;012345678&quot;) =&gt;  &quot;012345678&quot;
 (replace lst lst :start1 2 :start2 0) =&gt;  &quot;010123456&quot;
 lst =&gt;  &quot;010123456&quot;
</PRE>
</TT> <P>
<P><B>Side Effects:</B><P>
 <P>
The <I>sequence-1</I> is modified. <P>
<P><B>Affected By:</B> None.
 <P>
<P><B>Exceptional Situations:</B> None.
 <P>
<P><B>See Also:</B><P>
 <P>
<A REL=DEFINITION HREF="fun_fill.html#fill"><B>fill</B></A> <P>
<P><B>Notes:</B> None.
 <P>
<P><HR>The following <A REL=META HREF="../FrontMatter/X3J13-Issues.html">X3J13 cleanup issues</A>, <I>not part of the specification</I>, apply to this section:<P><UL><LI> <A REL=CHILD HREF="../Issues/iss284.html">RANGE-OF-START-AND-END-PARAMETERS:INTEGER-AND-INTEGER-NIL</A><LI> <A REL=CHILD HREF="../Issues/iss332.html">SUBSEQ-OUT-OF-BOUNDS</A><P></UL>
<HR>

<A REL=NAVIGATOR HREF="../FrontMatter/Starting-Points.html"><IMG ALT="[Starting Points]" SRC="../Graphics/Starting-Points.gif" ALIGN=Bottom></A><A REL=TOC HREF="../FrontMatter/Chapter-Index.html"><IMG ALT="[Contents]" SRC="../Graphics/Contents.gif" ALIGN=Bottom></A><A REL=INDEX HREF="../FrontMatter/Master-Index.html"><IMG ALT="[Index]" SRC="../Graphics/Index.gif" ALIGN=Bottom></A><A REL=INDEX HREF="../FrontMatter/Symbol-Index.html"><IMG ALT="[Symbols]" SRC="../Graphics/Symbols.gif" ALIGN=Bottom></A><A REL=GLOSSARY HREF="sec_26-1.html"><IMG ALT="[Glossary]" SRC="../Graphics/Glossary.gif" ALIGN=Bottom></A><A HREF="../Issues/Issues-Categorized.html"><IMG ALT="[Issues]" SRC="../Graphics/Issues.gif" ALIGN=Bottom></A><BR>

<A REL=COPYRIGHT HREF="../FrontMatter/About-HyperSpec.html#Legal"><I>Copyright 1996, The Harlequin Group Limited.  All Rights Reserved.</I></A><P>
</BODY>

<!-- Mirrored from www.cs.cmu.edu/afs/cs/project/ai-repository/ai/html/hyperspec/HyperSpec/Body/fun_replace.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 21 Oct 2021 15:06:55 GMT -->
</HTML>
